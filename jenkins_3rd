pipeline {
    agent any
    options {
        buildDiscarder logRotator(artifactDaysToKeepStr: ''
        , artifactNumToKeepStr: '', 
        daysToKeepStr: '', numToKeepStr: '5')
    }
    environment {
        ENV1 = 'prod'
        APP_NAME = 'frontend'
        GIT_BRANCH = 'main'
        GIT_CREDENTIALS = 'Shashi-ubuntu-ec2-pem-key'
        GIT_URL= 'https://github.com/Shashi9380/python_pracctice.git'
    }
    stages{
        stage('checkout') {
            steps{
                 checkout scmGit(branches: [[name: "*/${env.GIT_BRANCH}"]], 
                extensions: [], 
                userRemoteConfigs: [[credentialsId: "${env.GIT_CREDENTIALS}",
                 url: "$GIT_URL"]])

            }
        }

        stage('test'){
            steps{
                sh ' echo ${env.ENV1}  '
                sh """
                 echo ${env.APP_NAME}
                """
                sh '''
                 echo $ENV1
                 echo $APP_NAME
                 echo $GIT_BRANCH
                 echo $GIT_CREDENTIALS
                 echo $GIT_UR
                '''
            }
        }
    }
}