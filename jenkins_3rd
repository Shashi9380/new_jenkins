pipeline {
    agent any
    options {
        buildDiscarder logRotator(artifactDaysToKeepStr: ''
        , artifactNumToKeepStr: '', 
        daysToKeepStr: '', numToKeepStr: '5')
    }
    environment {
        ENV1= prod
        APP_NAME= frontend
        GIT_BRANCH= main
        GIT_CREDENTIALS= 'Shashi-ubuntu-ec2-pem-key'
        GIT_URL= 'https://github.com/Shashi9380/python_pracctice.git'
    }
    stages{
        stage('checkout') {
            steps{
                 checkout scmGit(branches: [[name: '${env.GIT_BRANCH}']], 
                extensions: [], 
                userRemoteConfigs: [[credentialsId: '${env.GIT_CREDENTIALS}',
                 url: 'GIT_URL']])

            }
        }

        stage('test'){
            steps{
                sh ' ${env.ENV1}'
                sh """
                 ${env.APP_NAME}
                """
                sh '''
                 $ENV1
                 $APP_NAME
                 $GIT_BRANCH
                 $GIT_CREDENTIALS
                 $GIT_UR
                '''
            }
        }
    }
}